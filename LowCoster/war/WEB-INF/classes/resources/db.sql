CREATE DATABASE LOWCOSTER CHARACTER SET utf8 COLLATE utf8_unicode_ci;

USE LOWCOSTER;

CREATE TABLE CLIENT (
CLIENT_ID INT PRIMARY KEY AUTO_INCREMENT,
LOGIN VARCHAR(255),
PASSWORD VARCHAR(255),
FIRST_NAME VARCHAR(255),
SECOND_NAME VARCHAR(255),
SEX VARCHAR(255),
PASSPORT_ID INT
);

CREATE TABLE FLIGHT (
FLIGHT_ID INT PRIMARY KEY AUTO_INCREMENT,
FLIGHT_NUMBER VARCHAR(255),
DEPARTURE VARCHAR(255),
ARRIVAL VARCHAR(255),
DEPARTURE_TIME DATETIME,
ARRIVAL_TIME DATETIME,
BASE_PRICE INT,
FREE_SEATS INT
);

CREATE TABLE TICKET (
TICKET_ID INT PRIMARY KEY AUTO_INCREMENT,
FLIGHT_ID INT NOT NULL,
CLIENT_ID INT NOT NULL,
IS_BAGGAGE BOOL,
IS_BUSINESS BOOL,
PRICE INT,
IS_PAID BOOL,
FOREIGN KEY (FLIGHT_ID) REFERENCES FLIGHT(FLIGHT_ID),
FOREIGN KEY (CLIENT_ID) REFERENCES CLIENT(CLIENT_ID)
);

INSERT INTO CLIENT VALUES(0,'USER1','PASS1','MR.','X','MALE',123456);
INSERT INTO CLIENT VALUES(0,'USER2','PASS2','MR.','Y','MALE',234567);
INSERT INTO CLIENT VALUES(0,'USER3','PASS3','MRS.','Z','FEMALE',345678);

INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-23 12:00','2015-11-23 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-24 12:00','2015-11-24 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-25 12:00','2015-11-25 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-26 12:00','2015-11-26 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-27 12:00','2015-11-27 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-28 12:00','2015-11-28 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-29 12:00','2015-11-29 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-30 12:00','2015-11-30 13:30',2000,200);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-23 15:00','2015-11-23 18:30',4000,250);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-24 15:00','2015-11-24 18:30',4000,250);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-25 15:00','2015-11-25 18:30',4000,250);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-26 15:00','2015-11-26 18:30',4000,250);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-27 15:00','2015-11-27 18:30',4000,250);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-28 15:00','2015-11-28 18:30',4000,250);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-29 15:00','2015-11-29 18:30',4000,250);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-30 15:00','2015-11-30 18:30',4000,250);