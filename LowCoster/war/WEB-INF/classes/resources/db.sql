CREATE DATABASE LOWCOSTER CHARACTER SET utf8 COLLATE utf8_unicode_ci;

USE LOWCOSTER;

CREATE TABLE CLIENT (
CLIENT_ID INT PRIMARY KEY AUTO_INCREMENT,
LOGIN VARCHAR(255) NOT NULL,
PASSWORD VARCHAR(255) NOT NULL,
FIRST_NAME VARCHAR(255) NOT NULL,
SECOND_NAME VARCHAR(255) NOT NULL,
SEX VARCHAR(255) NOT NULL,
PASSPORT_ID INT NOT NULL
);

CREATE TABLE FLIGHT (
FLIGHT_ID INT PRIMARY KEY AUTO_INCREMENT,
FLIGHT_NUMBER VARCHAR(255),
DEPARTURE VARCHAR(255),
ARRIVAL VARCHAR(255),
DEPARTURE_TIME DATETIME,
ARRIVAL_TIME DATETIME,
BASE_PRICE INT,
SEATS INT,
FREE_SEATS INT
);

CREATE TABLE TICKET (
TICKET_ID INT PRIMARY KEY AUTO_INCREMENT,
FLIGHT_ID INT NOT NULL,
CLIENT_ID INT NOT NULL,
IS_BAGGAGE BOOL,
IS_BUSINESS BOOL,
PRICE INT,
IS_PAID BOOL,
FOREIGN KEY (FLIGHT_ID) REFERENCES FLIGHT(FLIGHT_ID),
FOREIGN KEY (CLIENT_ID) REFERENCES CLIENT(CLIENT_ID)
);

INSERT INTO CLIENT VALUES(0,'USER1','PASS1','MR.','X','MALE',123456);
INSERT INTO CLIENT VALUES(0,'USER2','PASS2','MR.','Y','MALE',234567);
INSERT INTO CLIENT VALUES(0,'USER3','PASS3','MRS.','Z','FEMALE',345678);

INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-11-30 12:00','2015-11-30 13:30',2000,200,200);
INSERT INTO FLIGHT VALUES(0,'SD132','SAINT-PETERSBURG','MOSCOW','2015-11-30 13:00','2015-11-30 14:30',1800,150,150);
INSERT INTO FLIGHT VALUES(0,'SD135','SAINT-PETERSBURG','MOSCOW','2015-11-30 14:00','2015-11-30 15:30',2200,150,150);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-11-30 15:00','2015-11-30 18:30',4000,250,250);
INSERT INTO FLIGHT VALUES(0,'ST120','SAINT-PETERSBURG','NEW YORK','2015-11-30 09:00','2015-11-30 17:30',7000,300,300);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-12-01 12:00','2015-12-01 13:30',2000,200,200);
INSERT INTO FLIGHT VALUES(0,'SD132','SAINT-PETERSBURG','MOSCOW','2015-12-01 13:00','2015-12-01 14:30',1800,150,150);
INSERT INTO FLIGHT VALUES(0,'SD135','SAINT-PETERSBURG','MOSCOW','2015-12-01 14:00','2015-12-01 15:30',2200,150,150);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-12-01 15:00','2015-12-01 18:30',4000,250,250);
INSERT INTO FLIGHT VALUES(0,'ST120','SAINT-PETERSBURG','NEW YORK','2015-12-01 09:00','2015-12-01 17:30',7000,300,300);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-12-02 12:00','2015-12-02 13:30',2000,200,200);
INSERT INTO FLIGHT VALUES(0,'SD132','SAINT-PETERSBURG','MOSCOW','2015-12-02 13:00','2015-12-02 14:30',1800,150,150);
INSERT INTO FLIGHT VALUES(0,'SD135','SAINT-PETERSBURG','MOSCOW','2015-12-02 14:00','2015-12-02 15:30',2200,150,150);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-12-02 15:00','2015-12-02 18:30',4000,250,250);
INSERT INTO FLIGHT VALUES(0,'ST120','SAINT-PETERSBURG','NEW YORK','2015-12-02 09:00','2015-12-02 17:30',7000,300,300);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-12-03 12:00','2015-12-03 13:30',2000,200,200);
INSERT INTO FLIGHT VALUES(0,'SD132','SAINT-PETERSBURG','MOSCOW','2015-12-03 13:00','2015-12-03 14:30',1800,150,150);
INSERT INTO FLIGHT VALUES(0,'SD135','SAINT-PETERSBURG','MOSCOW','2015-12-03 14:00','2015-12-03 15:30',2200,150,150);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-12-03 15:00','2015-12-03 18:30',4000,250,250);
INSERT INTO FLIGHT VALUES(0,'ST120','SAINT-PETERSBURG','NEW YORK','2015-12-03 09:00','2015-12-03 17:30',7000,300,300);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-12-04 12:00','2015-12-04 13:30',2000,200,200);
INSERT INTO FLIGHT VALUES(0,'SD132','SAINT-PETERSBURG','MOSCOW','2015-12-04 13:00','2015-12-04 14:30',1800,150,150);
INSERT INTO FLIGHT VALUES(0,'SD135','SAINT-PETERSBURG','MOSCOW','2015-12-04 14:00','2015-12-04 15:30',2200,150,150);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-12-04 15:00','2015-12-04 18:30',4000,250,250);
INSERT INTO FLIGHT VALUES(0,'ST120','SAINT-PETERSBURG','NEW YORK','2015-12-04 09:00','2015-12-04 17:30',7000,300,300);
INSERT INTO FLIGHT VALUES(0,'SD130','SAINT-PETERSBURG','MOSCOW','2015-12-05 12:00','2015-12-05 13:30',2000,200,200);
INSERT INTO FLIGHT VALUES(0,'SD132','SAINT-PETERSBURG','MOSCOW','2015-12-05 13:00','2015-12-05 14:30',1800,150,150);
INSERT INTO FLIGHT VALUES(0,'SD135','SAINT-PETERSBURG','MOSCOW','2015-12-05 14:00','2015-12-05 15:30',2200,150,150);
INSERT INTO FLIGHT VALUES(0,'LC880','SAINT-PETERSBURG','LONDON','2015-12-05 15:00','2015-12-05 18:30',4000,250,250);
INSERT INTO FLIGHT VALUES(0,'ST120','SAINT-PETERSBURG','NEW YORK','2015-12-05 09:00','2015-12-05 17:30',7000,300,300);
